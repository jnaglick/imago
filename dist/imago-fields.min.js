var ImagoFieldCheckbox;ImagoFieldCheckbox=function(){function e(){return{replace:!0,require:"ngModel",scope:{ngModel:"=",disabled:"=ngDisabled"},transclude:!0,templateUrl:"/imago/imago-field-checkbox.html",link:function(e,i,n,r){return n.disabled&&(e.disabled=!0),e.update=function(e,i){return i?void 0:(e=!e,r.$setViewValue(e),r.$render(),n.required?r.$setValidity("required",e):void 0)}}}}return e}(),angular.module("imago").directive("imagoFieldCheckbox",[ImagoFieldCheckbox]);var ImagoFieldCurrency,imagoFilterCurrency;ImagoFieldCurrency=function(){function e(){return{replace:!0,require:"ngModel",scope:{currencies:"=",ngModel:"=",save:"&ngChange"},transclude:!0,templateUrl:"/imago/imago-field-currency.html",link:function(e,i,n,r){return e.currencies?(e.currency=e.currencies[0],e.update=function(i){var n;for(n in i)i[n]=parseFloat(i[n]);return r.$setViewValue(i),r.$render(),e.save()}):console.log("no currencies!!")}}}return e}(),imagoFilterCurrency=function(){function e(){return{require:"ngModel",link:function(e,i,n,r){return r.$formatters.unshift(function(e){return e=(e/100).toFixed(2),isNaN(e)&&(e=null),e}),r.$parsers.unshift(function(e){var i;return e?(i=e.replace(/[^\d|\-+|\.+]/g,""),i=parseFloat(100*i),i=i.toFixed(2)):"0.00"})}}}return e}(),angular.module("imago").directive("imagoFieldCurrency",[ImagoFieldCurrency]).directive("imagoFilterCurrency",[imagoFilterCurrency]);var ImagoFieldDate;ImagoFieldDate=function(){function e(){return{replace:!0,require:"ngModel",scope:{min:"=",max:"=",ngModel:"="},transclude:!0,templateUrl:"/imago/imago-field-date.html",link:function(e,i,n,r){return e.update=function(e){return r.$setViewValue(e),r.$render()}}}}return e}(),angular.module("imago").directive("imagoFieldDate",[ImagoFieldDate]);var ImagoFieldEmail;ImagoFieldEmail=function(){function e(){return{replace:!0,require:"ngModel",scope:{ngModel:"="},transclude:!0,templateUrl:"/imago/imago-field-email.html",link:function(e,i,n,r){return n.required&&(e.required=!0),e.update=function(e){return r.$setViewValue(e),r.$render()}}}}return e}(),angular.module("imago").directive("imagoFieldEmail",[ImagoFieldEmail]);var ImagoFieldNumber;ImagoFieldNumber=function(){function e(){return{replace:!0,require:"ngModel",scope:{min:"=",max:"=",ngModel:"=",disabled:"=ngDisabled"},transclude:!0,templateUrl:"/imago/imago-field-number.html",link:function(e,i,n,r){var t,a;return n.disabled&&(e.disabled=!0),r.$render=function(){return a()},r.$formatters.push(function(e){return parseFloat(e)}),r.$parsers.push(function(e){return parseFloat(e)}),a=function(){var i;return i=!(e.isLimitMin(!0)||e.isLimitMax(!0)),r.$setValidity("outOfBounds",i)},t=function(i){var n;return n=r.$viewValue+i,e.update(n)},e.update=function(i){return e.disabled?void 0:(_.isNaN(i)&&(i=1),i=parseFloat(i),r.$setViewValue(i),r.$render())},e.isLimitMin=function(){return r.$viewValue<e.min?!0:void 0},e.isLimitMax=function(){return r.$viewValue>e.max?!0:void 0},e.isOverMin=function(){return r.$viewValue<e.min+1?!0:void 0},e.isOverMax=function(){return r.$viewValue>e.max-1?!0:void 0},e.decrement=function(){return t(-1)},e.increment=function(){return t(1)},a(),e.$watchGroup(["min","max"],function(){return a()})}}}return e}(),angular.module("imago").directive("imagoFieldNumber",[ImagoFieldNumber]);var ImagoFieldString;ImagoFieldString=function(){function e(){return{replace:!0,require:"ngModel",scope:{ngModel:"="},transclude:!0,templateUrl:"/imago/imago-field-string.html",link:function(e,i,n,r){return e.update=function(e){return r.$setViewValue(e),r.$render()}}}}return e}(),angular.module("imago").directive("imagoFieldString",[ImagoFieldString]),angular.module("imago").run(["$templateCache",function(e){e.put("/imago/imago-field-checkbox.html",'<div class="imago-checkbox"><label ng-class="{active: ngModel, disabled: disabled}" ng-click="update(ngModel, disabled)" class="topcoat-checkbox"><div class="topcoat-checkbox__checkmark"></div><span ng-transclude="ng-transclude"></span></label></div>'),e.put("/imago/imago-field-currency.html",'<div class="imago-field currency"><div ng-class="{focus:onfocus}" class="wrapper"><div ng-transclude="ng-transclude"></div><select ng-model="currency" ng-options="currency for currency in currencies"></select><input type="text" imago-filter-currency="imago-filter-currency" ng-model="ngModel[currency]" ng-model-options="{updateOn: \'blur\'}" ng-change="update(ngModel); onfocus = false" ng-disabled="!currency" ng-focus="onfocus = true"/></div></div>'),e.put("/imago/imago-field-date.html",'<div class="imago-field date"><div ng-transclude="ng-transclude"></div><input type="text" date-time="date-time" dismiss="true" ng-model="ngModel" ng-blur="update(ngModel)" view="date" min-view="date" partial="true"/></div>'),e.put("/imago/imago-field-email.html",'<div class="imago-field email"><div ng-transclude="ng-transclude"></div><input type="email" ng-model="ngModel" ng-blur="update(ngModel)" ng-required="required"/></div>'),e.put("/imago/imago-field-number.html",'<div class="imago-field number"><div ng-transclude="ng-transclude"></div><input type="text" ng-model="ngModel" ng-model-options="{\'updateOn\': \'blur\'}" ng-change="update(ngModel)" ng-disabled="disabled || (min &amp;&amp; max &amp;&amp; isOverMin() === isOverMax())"/><button type="button" ng-disabled="isOverMin() || disabled" ng-click="decrement()" class="decrement"></button><button type="button" ng-disabled="isOverMax() || disabled" ng-click="increment()" class="increment"></button></div>'),e.put("/imago/imago-field-string.html",'<div class="imago-field string"><div ng-transclude="ng-transclude"></div><input type="text" ng-model="ngModel" ng-change="update(ngModel)"/></div>')}]);